<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

    

    <div class="container py-5">
        <h2 class="mb-4 text-center">Admin Dashboard</h2>
        <div class="row g-4">

            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">User Details</h5>
                        <a href="{{ url_for('update_user_details') }}" class="btn btn-primary mt-3">Update</a>
                    </div>
                </div>
            </div>

            
            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">Service Allocation</h5>
                        <a href="" class="btn btn-primary mt-3">Enter</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">Technician details</h5>
                        <button href="{{ url_for('book_service') }}" class="btn btn-success mt-3" data-bs-toggle="modal" data-bs-target="#serviceModal">Book</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">Inventory</h5>
                        <a href="/vehicle_history" class="btn btn-secondary mt-3">View History</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">Billing</h5>
                        <a href="/invoice" class="btn btn-warning mt-3">View Invoices</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body text-center">
                        <h5 class="card-title">Logout</h5>
                        <a href="/logout" class="btn btn-danger mt-3">Logout</a>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="modal fade" id="serviceModal" tabindex="-1" aria-labelledby="serviceModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form class="modal-content" method="post" action="/book_service">
                <div class="modal-header">
                    <h5 class="modal-title" id="serviceModalLabel">Book a Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="mb-3">
                        <label for="vehicle_id" class="form-label">Select Vehicle</label>
                        <select class="form-control" id="vehicle_id" name="vehicle_id" required>
                            <option value="" disabled selected>Select a vehicle</option>
                            {% for vehicle in vehicles %}
                                <option value="{{ vehicle.id }}">{{ vehicle.model }} ({{ vehicle.license_plate }})</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="service_name" class="form-label">Service Name</label>
                        <input type="text" class="form-control" id="service_name" name="service_name" required>
                    </div>
        
                    <div class="mb-3">
                        <label for="description" class="form-label">Service Description</label>
                        <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success">Confirm Booking</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
